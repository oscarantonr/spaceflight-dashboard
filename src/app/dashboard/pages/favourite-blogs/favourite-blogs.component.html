<app-title title="Favourite Blogs"></app-title>
<section class="">
  <div
    cdkDropList
    class="mx-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"
    cdkDropListOrientation="mixed"
    (cdkDropListDropped)="drop($event)"
  >
    @for (blog of favouriteBlogs; track $index) {
    <div class="example-box" cdkDrag>
      <span
        class="block p-4 mb-4 bg-slate-200 shadow rounded-xl hover:scale-105 hover:bg-slate-100"
      >
        <img
          [srcset]="blog.image_url"
          alt="blog image"
          class="w-full h-48 object-cover mt-2 rounded-xl"
        />
        <div class="absolute top-7 right-5 bg-gray-100 p-1 rounded-full">
          <!-- <img
        [src]="isFavourite(blog()) ? 'heart-red.svg' : 'heart.svg'"
        class="w-8 h-8 ml-auto cursor-pointer"
        (click)="toggleFavourite(blog())"
      /> -->
          <app-favourite-button
            [blog]="blog"
            [alreadyFavourite]="true"
            (favouriteToggled)="loadFavourites()"
          ></app-favourite-button>
        </div>
        <p class="mt-2 text-gray-400">
          Published at: {{ blog.published_at | date : "dd/MM/yyyy HH:mm" }}
        </p>
        <a
          class="text-xl font-semibold text-gray-600 hover:underline cursor-pointer"
          [routerLink]="['/dashboard/blog', blog.id]"
        >
          {{ blog.title }}
        </a>
      </span>
    </div>
    }
  </div>
</section>
